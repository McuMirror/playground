#include <stdio.h>#include <stdlib.h>#include <signal.h>#include <time.h>#include <unistd.h>#include <sys/time.h>#include <sys/types.h>#include "Aesimhei.h"void AbortHandler(int signum){ exit(0); }void init(void){    long OpenStatus = OpenMHE() ;    if (OpenStatus != 0)        printf("IMHEI open failed - %ld\n", OpenStatus) ;    else    {        EnableInterface() ;    }}void xread() {    int values[2];    E2PromRead ((void*) values, 8);    printf("Value in  to date: %d\n", CurrentValue() - values[0]);    printf("Value out to date: %d\n", CurrentPaid() - values[1]);}void xwrite(int in, int out) {    int values[2] = {in, out};    printf("Value in  to date to write: %d\n", values[0]);    printf("Value out to date to write: %d\n", values[1]);    E2PromWrite ((void*) values, 8);}int main(int ac, char **av){    int option;    /*-- Catch signals so we exit cleanly -----------------------------*/    (void)signal(SIGHUP,    AbortHandler); (void)signal(SIGINT,  AbortHandler);    (void)signal(SIGQUIT,   AbortHandler); (void)signal(SIGILL,  AbortHandler);    (void)signal(SIGTRAP,   AbortHandler); (void)signal(SIGABRT, AbortHandler);    (void)signal(SIGBUS,    AbortHandler); (void)signal(SIGFPE,  AbortHandler);    (void)signal(SIGKILL,   AbortHandler); (void)signal(SIGUSR1, AbortHandler);    (void)signal(SIGSEGV,   AbortHandler); (void)signal(SIGUSR2, AbortHandler);    (void)signal(SIGPIPE,   AbortHandler); (void)signal(SIGALRM, AbortHandler);    (void)signal(SIGTERM,   AbortHandler); (void)signal(SIGCHLD, AbortHandler);    (void)signal(SIGCONT,   AbortHandler); (void)signal(SIGSTOP, AbortHandler);    (void)signal(SIGTSTP,   AbortHandler); (void)signal(SIGTTIN, AbortHandler);    (void)signal(SIGTTOU,   AbortHandler); (void)signal(SIGURG,  AbortHandler);    (void)signal(SIGXCPU,   AbortHandler); (void)signal(SIGXFSZ, AbortHandler);    (void)signal(SIGVTALRM, AbortHandler); (void)signal(SIGPROF, AbortHandler);    (void)signal(SIGWINCH,  SIG_IGN);      (void)signal(SIGIO,   AbortHandler);    /*(void)signal(SIGPWR,    AbortHandler); (void)signal(SIGSYS,  AbortHandler);*/    init();    while ((option=getopt(ac,av,"xrw")) != -1) {        switch(option) {            case 'x': xwrite(0,0) ; break;            case 'w': xwrite(CurrentValue(), CurrentPaid()); break;            case 'r': xread(); break;        }    }    return 1 ;}